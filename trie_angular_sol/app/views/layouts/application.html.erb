<!DOCTYPE html>
<html>
<head>
  <title>TrieAngularSol</title>
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.12/angular.min.js"></script>
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
</head>
<body ng-app="ContactsApp">
  <div ng-controller="ContactsCtrl">
    <div>
      <form ng-submit="createContact()">
        <div>
          <input type="text" ng-model="newContact.name" placeholder="Name"/>
        </div>
        <div>
          <input type="text" ng-model="newContact.cell" placeholder="Cell #"/>
        </div>
        <div>
          <input type="text" ng-model="newContact.home" placeholder="Home #"/>
        </div>
        <div>
         <textarea ng-model="newContact.address" placeholder="Address" ></textarea>
        </div>
        <div>
          <button>Save Contact</button>
        </div>
      </form>
    </div>

    <div>
      <input type="text" ng-model="searchName" ng-change="getSuggestions();foundContact=null;" placeholder="Search Names">
    </div>

    <div ng-repeat="name in searchResults" ng-click="findContact()">
      {{name}}
    </div>
     <div>
      <div class="foundContact-name">
        {{foundContact.name}}
      </div>
      <div class="foundContact-cell">
        {{foundContact.cell}}
      </div>
      <div class="foundContact-home">
        {{foundContact.home}}
      </div>
      <div class="foundContact-address">
          {{foundContact.address}}
      </div>
    </div>

    <div ng-repeat="contact in contacts track by $index">

      <form ng-submit="updateContact()" ng-show="editing">
        <div>
          <input type="text" ng-model="contact.name" placeholder="Name"/>
        </div>
        <div>
          <input type="text" ng-model="contact.cell" placeholder="Cell #"/>
        </div>
        <div>
          <input type="text" ng-model="contact.home" placeholder="Home #"/>
        </div>
        <div>
         <textarea ng-model="contact.address" placeholder="Address" ></textarea>
        </div>
        <div>
          <button>Update Contact</button>
        </div>
      </form>

      <div ng-hide="editing">
        <div class="contact-name">
          {{contact.name}}
        </div>
        <div class="contact-cell">
          {{contact.cell}}
        </div>
        <div class="contact-home">
          {{contact.home}}
        </div>
        <div class="contact-address">
            {{contact.address}}
        </div>
        <div>
          <button ng-click="delete()">Delete</button>
          <button ng-click="edit()">Edit</button>
        </div>
      </div>
    </div>
  </div>
</body>
</html>
